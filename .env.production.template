# ============================================================================
# Mindframe AI - Production Environment Configuration
# Author: Sondre Kjær (hello@mframe.io)
# ============================================================================

# ============================================================================
# APPLICATION
# ============================================================================
APP_NAME=Mindframe AI
APP_ENV=production
APP_DEBUG=false
APP_URL=https://mindframe.ai
API_URL=https://api.mindframe.ai

# Secret key for sessions (use: openssl rand -base64 64)
SECRET_KEY=your-secret-key-here

# ============================================================================
# DATABASE (Cloud SQL PostgreSQL)
# ============================================================================
DATABASE_URL=postgresql://postgres:PASSWORD@/mindframe_production?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================================================
# REDIS (Cloud Memorystore)
# ============================================================================
REDIS_URL=redis://REDIS_HOST:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_POOL_SIZE=10

# ============================================================================
# OPENAI API
# ============================================================================
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_ORG_ID=org-your-org-id
OPENAI_MODEL=raptor-mini-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
JWT_SECRET_KEY=your-jwt-secret-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=false

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================
CORS_ORIGINS=https://mindframe.ai,https://www.mindframe.ai,https://mframe.io,https://www.mframe.io
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_HEADERS=*

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_GENERAL=100/minute
RATE_LIMIT_API=60/minute
RATE_LIMIT_AUTH=5/minute
RATE_LIMIT_INCOME_BOTS=1000/hour
RATE_LIMIT_MARKETPLACE=200/minute

# ============================================================================
# EMAIL (SendGrid / Mailgun)
# ============================================================================
EMAIL_PROVIDER=sendgrid
EMAIL_FROM=hello@mframe.io
EMAIL_FROM_NAME=Mindframe AI
EMAIL_REPLY_TO=hello@mframe.io

# SendGrid
SENDGRID_API_KEY=your-sendgrid-key

# Mailgun (alternative)
MAILGUN_API_KEY=your-mailgun-key
MAILGUN_DOMAIN=mg.mframe.io

# ============================================================================
# CLOUD STORAGE (Google Cloud Storage)
# ============================================================================
GCS_BUCKET_NAME=mindframe-production-static
GCS_PROJECT_ID=mindframe-production
GCS_CREDENTIALS_PATH=/secrets/gcs-credentials.json
CDN_URL=https://cdn.mindframe.ai

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
LOG_FORMAT=json

# Google Cloud Logging
GOOGLE_CLOUD_LOGGING=true

# ============================================================================
# CELERY (Background Tasks)
# ============================================================================
CELERY_BROKER_URL=redis://REDIS_HOST:6379/1
CELERY_RESULT_BACKEND=redis://REDIS_HOST:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=Europe/Oslo
CELERY_ENABLE_UTC=true

# ============================================================================
# PAYMENT PROCESSING (Stripe / Vipps)
# ============================================================================
# Stripe
STRIPE_PUBLIC_KEY=pk_live_your-key
STRIPE_SECRET_KEY=sk_live_your-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Vipps (Norwegian payment)
VIPPS_CLIENT_ID=your-vipps-client-id
VIPPS_CLIENT_SECRET=your-vipps-secret
VIPPS_SUBSCRIPTION_KEY=your-vipps-subscription-key
VIPPS_MERCHANT_SERIAL_NUMBER=your-merchant-number

# ============================================================================
# INCOME BOTS
# ============================================================================
INCOME_BOTS_ENABLED=true
INCOME_BOT_RUNTIME_HOURS=24
INCOME_BOT_AUTO_RESTART=true
INCOME_DATABASE_URL=postgresql://postgres:PASSWORD@/income_production

# ============================================================================
# MARKETPLACE
# ============================================================================
MARKETPLACE_ENABLED=true
MARKETPLACE_FEATURED_COUNT=12
MARKETPLACE_TRENDING_DAYS=7

# ============================================================================
# LEARNING PLATFORM
# ============================================================================
LEARNING_ENABLED=true
LEARNING_VIDEO_CDN=https://video-cdn.mindframe.ai
LEARNING_CERTIFICATE_GENERATION=true

# ============================================================================
# ANALYTICS
# ============================================================================
# Google Analytics
GA_TRACKING_ID=G-XXXXXXXXXX

# Mixpanel (optional)
MIXPANEL_TOKEN=your-mixpanel-token

# Segment (optional)
SEGMENT_WRITE_KEY=your-segment-key

# ============================================================================
# PERFORMANCE
# ============================================================================
# Caching
CACHE_ENABLED=true
CACHE_TTL_DEFAULT=300
CACHE_TTL_STATIC=3600
CACHE_TTL_AGENTS=600

# Gunicorn
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5

# ============================================================================
# FEATURES FLAGS
# ============================================================================
FEATURE_INCOME_BOTS=true
FEATURE_MARKETPLACE=true
FEATURE_LEARNING=true
FEATURE_COURSES=true
FEATURE_ONBOARDING=true
FEATURE_LIVE_CHAT=true
FEATURE_VIDEO_CALLS=false
FEATURE_TEAM_COLLABORATION=true

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_GCS_BUCKET=mindframe-backups

# ============================================================================
# COMPLIANCE & GDPR
# ============================================================================
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=90
GDPR_COOKIE_CONSENT=true
GDPR_ANONYMIZE_IP=true

# ============================================================================
# TRUSTED HOSTS
# ============================================================================
ALLOWED_HOSTS=mindframe.ai,www.mindframe.ai,mframe.io,www.mframe.io,api.mindframe.ai

# ============================================================================
# WEBSOCKET
# ============================================================================
WEBSOCKET_ENABLED=true
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10

# ============================================================================
# CONTACT & SUPPORT
# ============================================================================
SUPPORT_EMAIL=hello@mframe.io
SALES_EMAIL=hello@mframe.io
CONTACT_PHONE=+47-XXX-XXXXX
COMPANY_ADDRESS="Oslo, Norway"

# ============================================================================
# COMPANY INFO
# ============================================================================
COMPANY_NAME=Mindframe AI
COMPANY_ORG_NUMBER=your-org-number
COMPANY_VAT_NUMBER=your-vat-number
COMPANY_FOUNDER="Sondre Kjær"
COMPANY_FOUNDER_EMAIL=hello@mframe.io
